<dom-module id="app-flickr">
    <template>
        <style>
            :host {
                display: block;
                height: 100%;
                width: 100%;
            }
            * {
                box-sizing: border-box;
            }
            div {
                /*display: block;*/
            }
            .thumbnail {
                float: left;
            }
        </style>
                
        <iron-ajax
            auto
            url="https://api.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key={{apikey}}&extras=url_n&per_page={{amount}}&page=1&format=json&nojsoncallback=1"
            handle-as="json"
            on-response="handleResponse"
            debounce-duration="300"></iron-ajax>
        <div class="container">
            <template is="dom-repeat" id="photos" items="{{photos}}" as="item">
                <img src="{{item.url_n}}">
            </template>
        </div>
    </template>
    <script>
        Polymer({
            is: "app-flickr",
            behaviors: [
              Polymer.NeonSharedElementAnimatableBehavior
            ],            
            properties: {
                amount: {
                    type: Number,
                    value: 10,
                    notify: true
                },
                photos: Array,
                apikey: String,
                tag: String             
            },
            // lifecycling events...
            ready: function () {
                // debug 
                this.apikey = "ac70e4612f89c39086629b4b779987ef";
            },
            handleResponse: function(res){
                this.photos = res.detail.response.photos.photo;
            } 
        });
    </script>
</dom-module>